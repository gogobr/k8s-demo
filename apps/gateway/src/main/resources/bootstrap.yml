server:
  port: 8080

spring:
  application:
    name: k8s-gateway
  cloud:
    nacos:
      discovery:
        # ğŸ”¥ ä¿®æ”¹ç‚¹ï¼šä¼˜å…ˆè¯»å–ç¯å¢ƒå˜é‡ NACOS_SERVER_ADDRï¼Œè¯»ä¸åˆ°æ‰ç”¨åé¢çš„é»˜è®¤å€¼
        server-addr: ${NACOS_SERVER_ADDR:nacos.middleware.svc.cluster.local:8848}
      config:
        # å¦‚æœä½ ä¹Ÿç”¨ Nacos åšé…ç½®ä¸­å¿ƒï¼Œè¿™é‡Œä¹Ÿè¦æ”¹
        server-addr: ${NACOS_SERVER_ADDR:nacos.middleware.svc.cluster.local:8848}
        file-extension: yaml
    gateway:
      discovery:
        locator:
          enabled: true
          lower-case-service-id: true
      routes:
        - id: backend-route
          uri: lb://k8s-backend
          predicates:
            - Path=/api/**
          filters:
            - StripPrefix=1
            - AddRequestHeader=X-Gateway-From, k8s-gateway