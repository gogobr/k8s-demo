# 这里的配置会覆盖 Chart 里的默认值
image:
  repository: mengxu46/k8s-frontend
  tag: "88ab2932fd5f158e1834319089220c8b1f44dcc7"
# 【关键】注入基础设施的坐标 (指向 middleware 命名空间)
mysql:
  host: "mycluster.middleware.svc.cluster.local"
  port: 6446
env:
  springAppName: "k8s-frontend"
  # 我们在这里定义 Service Name，方便模板读取
  otelServiceName: "k8s-frontend"
service:
  type: ClusterIP
  port: 80    # Service 对外暴露的端口 (通常是 80)
ingress:
  enabled: true
  className: "nginx" # 【关键】必须指定这个，否则 K8s 不知道谁来管它
  annotations:
    nginx.ingress.kubernetes.io/ssl-redirect: "false" # 本地没 HTTPS，强制关掉跳转
  hosts:
    - host: frontend.local # 【关键】请统一用这个名字，别混用 frontend.local
      paths:
        - path: /
          pathType: Prefix
